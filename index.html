<!DOCTYPE html>
<!-- saved from url=(0049)https://getbootstrap.com/docs/4.0/examples/cover/ -->
<html lang="es">

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="Plotting Logger">
  <meta name="author" content="Lucas Frías">
  <link rel="icon" href="https://getbootstrap.com/docs/4.0/assets/img/favicons/favicon.ico">

  <title>Plotting Logger</title>

  <!-- Bootstrap core CSS -->
  <link href="./index_files/bootstrap.min.css" rel="stylesheet">

  <!-- Custom styles for this template -->
  <link href="./index_files/cover.css" rel="stylesheet">
</head>

<body class="text-center">

  <div class="cover-container d-flex h-100 p-3 mx-auto flex-column">
    <header class="masthead mb-auto fixed-top">
      <div class="inner">
        <h3 class="masthead-brand">Plotting Logger</h3>
        <nav class="nav nav-masthead justify-content-center">
          <a class="nav-link" href="#plotter1">Plotter 1</a>
          <a class="nav-link" href="#plotter2">Plotter 2</a>
          <a class="nav-link" href="#plotter3">Plotter 3</a>
          <a class="nav-link" href="#plotter4">Plotter 4</a>
          <a class="nav-link" href="#plotter5">Plotter 5</a>
          <a class="nav-link" href="#plotter6">Plotter 6</a>
          <a class="nav-link" href="#plotter7">Plotter 7</a>
          <a class="nav-link" href="#plotter8">Plotter 8</a>
        </nav>
      </div>
    </header>

    <main role="main" class="inner cover">
      <div id="plotter1" class="pt-5">
        <h1 class="cover-heading">Plotter 1 - Logs</h1>
        <div id="plotter1-logs" class="loading">
        </div>
      </div>
      <div id="plotter2" class="pt-5">
        <h1 class="cover-heading">Plotter 2 - Logs</h1>
        <div id="plotter2-logs" class="loading">
        </div>
      </div>
      <div id="plotter3" class="pt-5">
        <h1 class="cover-heading">Plotter 3 - Logs</h1>
        <div id="plotter3-logs" class="loading">
        </div>
      </div>
      <div id="plotter4" class="pt-5">
        <h1 class="cover-heading">Plotter 4 - Logs</h1>
        <div id="plotter4-logs" class="loading">
        </div>
      </div>
      <div id="plotter5" class="pt-5">
        <h1 class="cover-heading">Plotter 5 - Logs</h1>
        <div id="plotter5-logs" class="loading">
        </div>
      </div>
      <div id="plotter6" class="pt-5">
        <h1 class="cover-heading">Plotter 6 - Logs</h1>
        <div id="plotter6-logs" class="loading">
        </div>
      </div>
      <div id="plotter7" class="pt-5">
        <h1 class="cover-heading">Plotter 7 - Logs</h1>
        <div id="plotter7-logs" class="loading">
        </div>
      </div>
      <div id="plotter8" class="pt-5">
        <h1 class="cover-heading">Plotter 8 - Logs</h1>
        <div id="plotter8-logs" class="loading">
        </div>
      </div>
    </main>

    <footer class="mastfoot mt-5">
      <div class="inner">
        <p>Plotting Logger, by Lucas Frías</p>
      </div>
    </footer>
  </div>


  <!-- Bootstrap core JavaScript
    ================================================== -->
  <!-- Placed at the end of the document so the pages load faster -->
  <script src="./index_files/jquery-3.2.1.slim.min.js.descarga"
    integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
    crossorigin="anonymous"></script>
  <script>window.jQuery || document.write('<script src="../../assets/js/vendor/jquery-slim.min.js"><\/script>')</script>
  <script src="./index_files/popper.min.js.descarga"></script>
  <script src="./index_files/bootstrap.min.js.descarga"></script>

  <!-- Read plotters logs -->
  <script>
    main();

    async function main() {
      let plottersIPs = ['161.35.53.152', '134.209.124.103', '161.35.108.31', '161.35.53.152', '162.243.170.117', '143.198.163.207', '198.199.80.134', '208.68.37.244'];

      for (let i = 0; i < plottersIPs.length; i++) {
        let plotterDiv = document.getElementById("plotter" + (i + 1) + "-logs");
        let plotterLogs = await getLogsFromIP(plottersIPs[i]);
        plotterDiv.classList.remove("loading");
        let logs = document.createElement("p");
        logs.innerHTML = answer;
        plotterDiv.appendChild(logs);
      }
    }

    async function getLogsFromIP(IP) {
      let response = await fetch("http://" + IP + "/logfile", {
        method: 'GET',
        headers: {
          'Access-Control-Allow-Origin':'https://lucasfrias0612.github.io/'
        }
      });

      if (response.status != 200) {
        throw new Error("Server Error at  IP: " + IP);
      }

      // read response stream as text
      let text_data = await response.text();

      return text_data;
    }

  </script>
</body>

</html>